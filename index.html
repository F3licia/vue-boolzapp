<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <title>VueBoolzap</title>
</head>

<body>
<div id="vueContainer">

        <div class="main">

            <div class="main-bar main-bar-1">
                <img src="imgs/avatar_io.jpg" alt=""> 
           </div>
           
            <div class="col-1">

                <div class="notifications">
                    <div class="bell"><i class="fa fa-bell-slash" aria-hidden="true"></i></div>
                    <div>
                        <h5>Ricevi notifiche di nuovi messaggi</h5>
                        <h6>Attiva notifiche desktop</h6>
                    </div>
                </div>
                <div class="searchBar">
                     <input v-model="search" type="text" class="textbar" placeholder=" &#x1F50E;&#xFE0E; Cerca o inizia una nuova chat">
                </div>


                <div class="contacts">

                    <div class="singleCont" v-for="(contact, name, pic) in filteredContacts"  @click="openConvo(contact)" :class="{opened:contact === active}">
                        <img v-bind:src="contact.pic" alt=""> {{contact.name}}
                    </div>

                </div>
            </div>
            
            <div v-if="active" >
                <div class="main-bar main-bar-2">
                    
                    <img :src="active.pic" alt="">
                    <div class="name">{{active.name}}
                       
                    </div>
                       
                </div>
            </div>

            <div class="col-2 ">
                
                    <div v-if="active" class="chatSpace">

                        <div v-for="(element, status) in active.convo" >
                            <div class="chat-row">

                                    
                                    <div :class="{sent:element.status === 'sent',
                                            received:element.status === 'received',}" >
                                               
                                            
                                            <h5 class="message">{{element.text}}</h5>
                                            <div class="infoMess">
                                                <h6>{{element.status}}&nbsp;</h6>
                                                <h6>{{formatTime(element.date)}}</h6>
                                            </div>
                                           
                                    </div>
                            </div>
                        </div>


                        <div class="chat-bar">
                            <div class="icon-chat-bar"><i class="fa fa-smile-o" aria-hidden="true"></i></div>
                            <input v-model="newMess" type="text" @keyup.enter="sendMess" class="textbar">
                            <div class="icon-chat-bar"><i class="fa fa-microphone" aria-hidden="true"></i></div>
                        </div>
                         
                    </div>
            </div>
         </div>   
    

</div>
<script src="script/myScript.js"></script>


</body>
</html>




